<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<input id="input-date" value="2015-08-20"><button id="calc-date">计算</button>
<label id="label-date"></label>
<script src="scripts/util.js"></script>
<script >
    document.getElementById("calc-date").addEventListener("click",calcDate);
    function calcDate() {
        t = setTimeout(calcDate, 1000);
        var inputArray = $("#input-date").value.split("-");
        var inputDate = new Date();
        inputDate.setFullYear(inputArray[0], inputArray[1]-1, inputArray[2]);
        inputDate.setHours( 0, 0, 0, 0);
        var nowDate = new Date();
        var seconds = Math.floor((inputDate.getTime() - nowDate.getTime())/1000);
        var day = Math.floor(seconds/(3600*24));
        var hours = Math.floor((seconds - (day*3600*24))/3600);
        var minutes = Math.floor((seconds- (day*3600*24) - hours * 3600)/60);
        var seconds = Math.floor((seconds- (day*3600*24) - hours * 3600 - minutes* 60));
        if(seconds<10)
            seconds = "0"+seconds;
        $("#label-date").innerHTML = "距离" + inputArray[0]+"年"+inputArray[1] +"月" +inputArray[2]+"日"
        +"还有"+day +"天" + hours +"小时" + minutes +"分" +seconds +"秒";
    }
</script>
</body>
</html>